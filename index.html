
<!DOCTYPE html>
<html lang="zh-CN" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#0d0d0e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <title>涂鸦 | DOODLE</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' fill='%230d0d0e'/%3E%3Cpath d='M120,256 C120,100 392,100 392,256 C392,412 120,412 120,256 M150,256 C150,150 362,150 362,256 C362,362 150,362 150,256' fill='none' stroke='%23d1d1d1' stroke-width='24' stroke-linecap='round' stroke-linejoin='round' opacity='0.8'/%3E%3Cpath d='M320,100 L200,280 L320,260 L200,440' fill='none' stroke='%23facc15' stroke-width='32' stroke-linecap='round' stroke-linejoin='round' filter='drop-shadow(0 0 10px %23facc15)'/%3E%3C/svg%3E" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              dark: '#0a0a0b',
              doodle: {
                paper: '#f4f1ea',
                pencil: '#2d2d2d',
                highlight: '#facc15',
                red: '#ef4444',
                blue: '#3b82f6'
              }
            },
            keyframes: {
              xerox: {
                '0%, 100%': { filter: 'grayscale(1) contrast(2) brightness(0.8) opacity(0.9)' },
                '50%': { filter: 'grayscale(1) contrast(2.5) brightness(0.9) opacity(1)' },
              },
              float: {
                '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                '50%': { transform: 'translateY(-10px) rotate(1deg)' },
              }
            },
            animation: {
              'xerox': 'xerox 0.2s steps(2) infinite',
              'float-slow': 'float 6s ease-in-out infinite',
            }
          },
        },
      }
    </script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&family=Ma+Shan+Zheng&display=swap');
      
      body {
        background-color: #0d0d0e;
        color: #d1d1d1;
        font-family: 'ZCOOL XiaoWei', serif;
        overflow: hidden; 
        overscroll-behavior: none;
      }

      .doodle-bg::before {
        content: "";
        position: fixed;
        inset: 0;
        background-image: url('https://www.transparenttextures.com/patterns/notebook-dark.png');
        opacity: 0.2;
        pointer-events: none;
        z-index: 1;
      }

      .sketch-border {
        border: 2px solid rgba(255,255,255,0.15);
        border-radius: 255px 15px 225px 15px/15px 225px 15px 255px;
      }

      .sketch-border-v1 {
        border-radius: 20px 200px 30px 250px / 250px 30px 200px 20px;
      }

      .sketch-border-v2 {
        border-radius: 120px 20px 180px 40px / 40px 180px 20px 120px;
      }

      .sketch-border-v3 {
        border-radius: 15px 15px 15px 15px / 15px 15px 15px 15px;
        clip-path: polygon(2% 2%, 98% 1%, 99% 98%, 1% 99%);
      }

      /* 撕纸边缘效果 */
      .torn-edge {
        mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0 0 L100 0 L100 100 L95 95 L90 100 L85 95 L80 100 L75 95 L70 100 L65 95 L60 100 L55 95 L50 100 L45 95 L40 100 L35 95 L30 100 L25 95 L20 100 L15 95 L10 100 L5 95 L0 100 Z" fill="black"/></svg>');
        mask-size: 100% 100%;
        -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0 0 L100 0 L100 100 L95 95 L90 100 L85 95 L80 100 L75 95 L70 100 L65 95 L60 100 L55 95 L50 100 L45 95 L40 100 L35 95 L30 100 L25 95 L20 100 L15 95 L10 100 L5 95 L0 100 Z" fill="black"/></svg>');
        -webkit-mask-size: 100% 100%;
      }

      /* 复印机滤镜：高对比、黑白、噪点 */
      .xerox-effect {
        filter: grayscale(1) contrast(3) brightness(0.8);
        mix-blend-mode: lighten;
      }

      .host-bubble {
        border: 2px solid #2d2d2d;
        border-radius: 20px 20px 0 20px;
        background: #f4f1ea;
        color: #1a1a1a;
        box-shadow: 6px 6px 0px #1a1a1a;
      }

      .persona-bubble {
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 0 20px 20px 20px;
        background: rgba(255,255,255,0.03);
        backdrop-filter: blur(8px);
      }

      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "socket.io-client": "https://esm.sh/socket.io-client@^4.8.1"
  }
}
</script>
</head>
  <body class="doodle-bg">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
